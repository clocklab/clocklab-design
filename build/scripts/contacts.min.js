// menu
document.addEventListener('DOMContentLoaded', () => {
    const openCloseBtns = document.querySelectorAll('.menu__item--open-close'),
          animationTime = 1600

    function openMenu (event) {
        event.preventDefault()

        const menu = this.parentElement
        const menuBackground = menu.querySelector('.menu__background')

        menu.classList.add('opened')
        document.body.style.overflow = 'hidden'

        this.removeEventListener('click', openMenu)

        function closeMenu (event) {
            event.preventDefault()
    
            menu.classList.remove('opened')
            menuBackground.removeEventListener('click', closeMenu)
            this.removeEventListener('click', closeMenu)
            document.body.removeAttribute('style')
    
            setTimeout(() => {
                this.addEventListener('click', openMenu)
            }, animationTime)
        }
        
        setTimeout(() => {
            this.addEventListener('click', closeMenu)
            menuBackground.addEventListener('click', closeMenu)
        }, animationTime)
    }

    openCloseBtns.forEach(openCloseBtn => {
        openCloseBtn.addEventListener('click', openMenu)  
    })
});

// big-background-letter
document.addEventListener('DOMContentLoaded', () => {
    const selectors = ['.euro-club', '#clock', '#service-two', '#blog-two', '#blog-three', '#main-contacts', '#contacts', '#services', '#about-company-four']

    const move = selectors => {

        selectors.forEach(selector => {

            const parent = document.querySelector(selector),
                  letter = document.querySelector(`${selector} .big-background-letter`),
                  koef = 10

            parent && parent.addEventListener('mousemove', event => {
                const allHeight = document.documentElement.clientHeight,
                      allWidth = document.documentElement.clientWidth,
                      currentXPos = event.clientX,
                      currentYPos = event.clientY

                const newX = - (allWidth / 2 - currentXPos) / koef,
                      newY = - (allHeight / 2 - currentYPos) / koef

                letter.style.transform = `translate3d(${newX}px, ${newY}px, 0)`
            })
        })
    }

    move(selectors)
})